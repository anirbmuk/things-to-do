<header>
  <mat-toolbar color="primary" class="flex items-center justify-between">
    <nav
      class="cursor-pointer text-center text md:text-2xl"
      routerLink="/"
      data-test-id="titlelink">
      Things TODO
    </nav>
    <div class="flex items-center justify-end space-x-2 md:space-x-4">
      <div
        *ngIf="showSearch"
        class="flex flex-row items-center rounded bg-indigo-100 px-2">
        <input
          type="text"
          placeholder="Search TODOs"
          class="w-36 border-none bg-indigo-100 py-2 text-sm text-black-dark caret-indigo outline-none md:w-48 md:text-md lg:w-60 xl:w-72"
          [value]="searchString$ | async"
          (input)="updateSearchString($event)"
          data-test-id="inputsearch"
          #searchField />
        <button
          (click)="showSearch = false; resetSearch()"
          data-test-id="clearsearch">
          <mat-icon class="text-2xl text-gray-800 md:text-3xl">close</mat-icon>
        </button>
      </div>
      <ng-container *ngIf="showActionButtons$ | async">
        <button
          *ngIf="!showSearch"
          mat-icon-button
          color="primary"
          aria-label="Search for a TODO"
          data-test-id="showsearch"
          (click)="displaySearch()">
          <mat-icon class="text-2xl text-white md:text-3xl">search</mat-icon>
        </button>
        <button
          mat-icon-button
          color="primary"
          aria-label="Add a new TODO"
          data-test-id="addtodobtn"
          (click)="addTodo()">
          <mat-icon class="text-2xl text-white md:text-3xl">add</mat-icon>
        </button>
      </ng-container>
    </div>
  </mat-toolbar>
</header>
